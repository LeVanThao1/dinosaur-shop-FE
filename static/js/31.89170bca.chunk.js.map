{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/CameraOutlined.js","../node_modules/@ant-design/icons/es/icons/CameraOutlined.js","pages/Profile/index.js"],"names":["CameraOutlined","props","ref","React","AntdIcon","Object","assign","icon","CameraOutlinedSvg","displayName","Option","Select","Profile","user","useSelector","state","auth","Form","useForm","formProfile","formPassword","useState","avatar","image","setImage","token","dispatch","useDispatch","province","setProvince","district","setDistrict","setWawrd","useRef","changePass","setchangePass","loading","useEffect","ward","setLoading","provincial","wards","sub","getProvinces","find","name","code","getDistrictsByProvinceCode","getWardsByDistrictCode","setFieldsValue","phone","address","email","provinces","layout","labelCol","span","wrapperCol","validateMessages","required","types","number","range","setInput","_onChangeImage","e","a","preventDefault","file","target","files","notifiError","size","type","formData","FormData","append","axios","post","headers","Authorization","res","data","url","response","msg","className","class","form","onFinish","getFieldsValue","dataUpdate","API","then","resetFields","updateUser","notifiSuccess","catch","err","src","alt","id","onChange","Item","label","hasFeedback","rules","message","placeholder","defaultValue","initialValue","value","disabled","showSearch","allowClear","map","option","index","dis","i","htmlType","oldPassword","getFieldValue","newPassword","scrollToFirstError","Password","dependencies","validator","rule","Promise","reject","resolve","onClick","console","log","memo"],"mappings":"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","file":"static/js/31.89170bca.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar CameraOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z\" } }] }, \"name\": \"camera\", \"theme\": \"outlined\" };\nexport default CameraOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CameraOutlinedSvg from \"@ant-design/icons-svg/es/asn/CameraOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CameraOutlined = function CameraOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: CameraOutlinedSvg\n  }));\n};\n\nCameraOutlined.displayName = 'CameraOutlined';\nexport default /*#__PURE__*/React.forwardRef(CameraOutlined);","import { CameraOutlined } from \"@ant-design/icons\";\nimport { Button, Form, Input, Select } from \"antd\";\nimport axios from \"axios\";\nimport React, { memo, useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport sub from \"sub-vn\";\nimport API from \"../../axios\";\nimport { updateUser } from \"../../slice/auth.slice\";\nimport { setLoading } from \"../../slice/loading.slice\";\nimport { notifiError, notifiSuccess } from \"../../utils/notification\";\nimport \"./index.css\";\n\nconst { Option } = Select;\nfunction Profile() {\n\tconst { user } = useSelector((state) => state.auth);\n\tconst [formProfile] = Form.useForm();\n\tconst [formPassword] = Form.useForm();\n\tconst [image, setImage] = useState(user.avatar);\n\tconst token = useSelector((state) => state.token);\n\tconst dispatch = useDispatch();\n\tconst [province, setProvince] = useState(\"\");\n\tconst [district, setDistrict] = useState(\"\");\n\tconst [ward, setWawrd] = useState(\"\");\n\tconst inputFileRef = useRef(null);\n\tconst [changePass, setchangePass] = useState(false);\n\tconst loading = useSelector((state) => state.loading);\n\tuseEffect(() => {\n\t\tdispatch(setLoading(true));\n\t\tlet province, district, ward;\n\t\tif (user.provincial && user.district && user.wards) {\n\t\t\tprovince = sub\n\t\t\t\t.getProvinces()\n\t\t\t\t.find((province) => province.name === user.provincial);\n\t\t\tsetProvince([province.name, province.code]);\n\t\t\tdistrict = sub\n\t\t\t\t.getDistrictsByProvinceCode(province.code)\n\t\t\t\t.find((district) => district.name === user.district);\n\t\t\tsetDistrict([district.name, district.code]);\n\t\t\tward = sub\n\t\t\t\t.getWardsByDistrictCode(district.code)\n\t\t\t\t.find((ward) => ward.name === user.wards);\n\t\t\tsetWawrd([ward.name, ward.code]);\n\t\t}\n\t\tformProfile.setFieldsValue({\n\t\t\tname: user.name,\n\t\t\tphone: user.phone,\n\t\t\taddress: user.address,\n\t\t\temail: user.email,\n\t\t\tprovinces: user.provincial && [user.provincial, province.code],\n\t\t\tdistrict: user.district && [user.district, district.code],\n\t\t\tward: user.wards && [user.wards, ward.code],\n\t\t});\n\t\tdispatch(setLoading(false));\n\t}, [user]);\n\tconst radioStyle = {\n\t\tdisplay: \"block\",\n\t\theight: \"30px\",\n\t\tlineHeight: \"30px\",\n\t};\n\n\tconst layout = {\n\t\tlabelCol: { span: 4 },\n\t\twrapperCol: { span: 20 },\n\t};\n\n\tconst validateMessages = {\n\t\trequired: \"${label} is required!\",\n\t\ttypes: {\n\t\t\temail: \"${label} is not a valid email!\",\n\t\t\tnumber: \"${label} is not a valid number!\",\n\t\t},\n\t\tnumber: {\n\t\t\trange: \"${label} must be between ${min} and ${max}\",\n\t\t},\n\t};\n\n\tconst handleChangeSelect = (e) => {\n\t\tsetProvince(e);\n\t};\n\n\tconst handleSelectDistrict = (e) => {\n\t\tsetDistrict(e);\n\t};\n\n\tconst handleChangeWard = (e) => {\n\t\tsetWawrd(e);\n\t};\n\tconst selectImg = (e) => {\n\t\tconsole.log(inputFileRef.current);\n\t\t// inputFileRef.current\n\t};\n\tconst handleChangePass = (e) => {\n\t\tsetchangePass(!changePass);\n\t\tconsole.log(changePass);\n\t};\n\tconst _onFinishPassword = () => {\n\t\tconst oldPassword = formPassword.getFieldValue(\"oldPassword\");\n\t\tconst newPassword = formPassword.getFieldValue(\"newPassword\");\n\t\tAPI(\"user/reset\", \"POST\", token, {\n\t\t\tnewPassword: newPassword,\n\t\t\toldPassword: oldPassword,\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tformPassword.resetFields();\n\t\t\t\tnotifiSuccess(res.data.msg);\n\t\t\t})\n\t\t\t.catch((err) => notifiError(err.response.data.msg));\n\t};\n\tconst _onFinishProfile = () => {\n\t\tconst {\n\t\t\tname,\n\t\t\temail,\n\t\t\tphone,\n\t\t\tprovinces,\n\t\t\tward,\n\t\t\tdistrict,\n\t\t\taddress,\n\t\t} = formProfile.getFieldsValue();\n\t\tconst dataUpdate = {\n\t\t\tname,\n\t\t\temail,\n\t\t\tphone,\n\t\t\tprovincial: provinces[0],\n\t\t\twards: ward[0],\n\t\t\tdistrict: district[0],\n\t\t\taddress,\n\t\t\tavatar: image,\n\t\t};\n\n\t\tAPI(\"user/update\", \"PUT\", token, dataUpdate)\n\t\t\t.then((res) => {\n\t\t\t\tformProfile.resetFields();\n\t\t\t\tdispatch(updateUser(dataUpdate));\n\t\t\t\tnotifiSuccess(\"Cập nhật thành công\");\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tnotifiError(\"Cập nhật thất bại\");\n\t\t\t});\n\t};\n\tconst [input, setInput] = useState(\"warning\");\n\tconst validateName = () => {\n\t\tvalidateMessages ? setInput(\"success\") : setInput(\"warning\");\n\t};\n\n\tconst _onChangeImage = async (e) => {\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tconst file = e.target.files[0];\n\n\t\t\tif (!file) return notifiError(\"No files were uploaded.\");\n\n\t\t\tif (file.size > 1024 * 1024) return notifiError(\"Size too large.\");\n\n\t\t\tif (file.type !== \"image/jpeg\" && file.type !== \"image/png\")\n\t\t\t\treturn notifiError(\"File format is incorrect.\");\n\n\t\t\tlet formData = new FormData();\n\t\t\tformData.append(\"file\", file);\n\n\t\t\t// dispatch(setLoading(true))\n\t\t\tconst res = await axios.post(\n\t\t\t\t\"http://localhost:3001/api/upload_avatar\",\n\t\t\t\tformData,\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"content-type\": \"multipart/form-data\",\n\t\t\t\t\t\tAuthorization: token,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tsetImage(res.data.url);\n\n\t\t\t// dispatch(setLoading(false))\n\t\t} catch (err) {\n\t\t\tnotifiError(err.response.data.msg);\n\t\t}\n\t};\n\treturn (\n\t\t<div className=\"Profile_page\">\n\t\t\t<div class=\"profile_page-header\">\n\t\t\t\t<h2 class=\"profile_page--title\">THÔNG TIN KHÁCH HÀNG</h2>\n\t\t\t\t<span class=\"profile_page-notice\">\n\t\t\t\t\tĐảm bảo thông tin của bạn là chính xác, thuận tiện hơn trong\n\t\t\t\t\tquá trình sử dụng.\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t{!loading && (\n\t\t\t\t<div className=\"profile_page-content\">\n\t\t\t\t\t{!changePass && user && (\n\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\tform={formProfile}\n\t\t\t\t\t\t\t{...layout}\n\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\tonFinish={_onFinishProfile}\n\t\t\t\t\t\t\tvalidateMessages={validateMessages}\n\t\t\t\t\t\t\tclassName=\"profile_form\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"profile_img\">\n\t\t\t\t\t\t\t\t<div className=\"avatar\">\n\t\t\t\t\t\t\t\t\t<img src={image} alt=\"avt\" />\n\t\t\t\t\t\t\t\t\t<span className=\"avatar_change\">\n\t\t\t\t\t\t\t\t\t\t<CameraOutlined className=\"profile_img-icon\" />\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"file\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"file\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={_onChangeImage}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span className=\"profile_description\">\n\t\t\t\t\t\t\t\t\tẢnh đại diện\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"profile_text\">\n\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\tonChange={validateName}\n\t\t\t\t\t\t\t\t\tlabel=\"Họ tên\"\n\t\t\t\t\t\t\t\t\tname={\"name\"}\n\t\t\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tmessage: \"Vui lòng nhập họ tên\",\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Họ tên\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\tdefaultValue={user.name}\n\t\t\t\t\t\t\t\t\t\tinitialValue={user.name}\n\t\t\t\t\t\t\t\t\t\tvalue={user.name}\n\t\t\t\t\t\t\t\t\t\tid=\"success\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\tlabel=\"Số điện thoại\"\n\t\t\t\t\t\t\t\t\tname={\"phone\"}\n\t\t\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tmessage: \"Vui lòng số điện thoại\",\n\t\t\t\t\t\t\t\t\t\t\ttypes: true,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Số điện thoại\"\n\t\t\t\t\t\t\t\t\t\tname=\"phone_number\"\n\t\t\t\t\t\t\t\t\t\tinitialValue={user.phone}\n\t\t\t\t\t\t\t\t\t\t// value={phone_number}\n\t\t\t\t\t\t\t\t\t\tdefaultValue={user.phone}\n\t\t\t\t\t\t\t\t\t\tid=\"phone_number\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\t\t\tname={\"email\"}\n\t\t\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t\t\t\trules={[{ required: false, type: \"email\" }]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tinitialValue={user.email}\n\t\t\t\t\t\t\t\t\t\tdefaultValue={user.email}\n\t\t\t\t\t\t\t\t\t\t// value={email}\n\t\t\t\t\t\t\t\t\t\tid=\"success\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\tlabel=\"Tỉnh/ Thành phố\"\n\t\t\t\t\t\t\t\t\tname={\"provinces\"}\n\t\t\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\t\t\t\t\t\"Vui lòng chọn tỉnh/thành phố\",\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Vui lòng chọn Tỉnh/ Thành phố\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\tshowSearch\n\t\t\t\t\t\t\t\t\t\tallowClear\n\t\t\t\t\t\t\t\t\t\tid=\"city\"\n\t\t\t\t\t\t\t\t\t\tname=\"city\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleChangeSelect}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Vui lòng chọn Tỉnh/ Thành phố\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{sub\n\t\t\t\t\t\t\t\t\t\t\t.getProvinces()\n\t\t\t\t\t\t\t\t\t\t\t.map((option, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Option\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toption.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toption.code,\n\t\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// selected={option.code === province}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{option.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\tlabel=\"Quận/ Huyện\"\n\t\t\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t\t\t\tname={\"district\"}\n\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tmessage: \"Vui lòng chọn quận/huyện\",\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\tshowSearch\n\t\t\t\t\t\t\t\t\t\tallowClear\n\t\t\t\t\t\t\t\t\t\tid=\"district\"\n\t\t\t\t\t\t\t\t\t\tname=\"district\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleSelectDistrict}\n\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\tprovince || user.district\n\t\t\t\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t\t\t\t: true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Vui lòng chọn Quận/ Huyện\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{province &&\n\t\t\t\t\t\t\t\t\t\t\tsub\n\t\t\t\t\t\t\t\t\t\t\t\t.getDistrictsByProvinceCode(\n\t\t\t\t\t\t\t\t\t\t\t\t\tprovince[1]\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t.map((dis, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdis.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdis.code,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dis.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\tlabel=\"Phường/ Xã\"\n\t\t\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t\t\t\tname={\"ward\"}\n\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tmessage: \"Vui lòng chọn xã/phường\",\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\tshowSearch\n\t\t\t\t\t\t\t\t\t\tallowClear\n\t\t\t\t\t\t\t\t\t\tid=\"ward\"\n\t\t\t\t\t\t\t\t\t\tname=\"ward\"\n\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\tdistrict || user.wards\n\t\t\t\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t\t\t\t: true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChangeWard}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Vui lòng chọn Xã/ Phường\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{district &&\n\t\t\t\t\t\t\t\t\t\t\tsub\n\t\t\t\t\t\t\t\t\t\t\t\t.getWardsByDistrictCode(\n\t\t\t\t\t\t\t\t\t\t\t\t\tdistrict[1]\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t.map((ward, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tward.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tward.code,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ward.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\tlabel=\"Số nhà/đường\"\n\t\t\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t\t\t\tname={\"address\"}\n\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tmessage: \"Vui lòng thêm địa chỉ\",\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Nhập địa chỉ\"\n\t\t\t\t\t\t\t\t\t\tname=\"address\"\n\t\t\t\t\t\t\t\t\t\t// value={address}\n\t\t\t\t\t\t\t\t\t\tdefaultValue={user.address}\n\t\t\t\t\t\t\t\t\t\tinitialValue={user.address}\n\t\t\t\t\t\t\t\t\t\tid=\"success\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"profile_submit\"\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\t\tform=\"profile\"\n\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCẬP NHẬT\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t\t{changePass && (\n\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\t{...layout}\n\t\t\t\t\t\t\tonFinish={_onFinishPassword}\n\t\t\t\t\t\t\tform={formPassword}\n\t\t\t\t\t\t\tname=\"changePassword\"\n\t\t\t\t\t\t\tclassName=\"profile_form\"\n\t\t\t\t\t\t\tscrollToFirstError\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"profile_img\">\n\t\t\t\t\t\t\t\t<div className=\"avatar\">\n\t\t\t\t\t\t\t\t\t<img src={user.avatar} alt=\"avt\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"profile_text\">\n\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\tname=\"oldPassword\"\n\t\t\t\t\t\t\t\t\tlabel=\"Mật khẩu cũ\"\n\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\t\t\t\t\t\"Vui lòng nhập mật khẩu cũ\",\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Input.Password />\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\tname=\"newPassword\"\n\t\t\t\t\t\t\t\t\tlabel=\"Mật khẩu mới\"\n\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\t\t\t\t\t\"Vui lòng nhập mật khẩu mới\",\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Input.Password />\n\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\tname=\"confirm\"\n\t\t\t\t\t\t\t\t\tlabel=\"Xác nhận mật khẩu\"\n\t\t\t\t\t\t\t\t\tdependencies={[\"newPassword\"]}\n\t\t\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\t\t\t\t\t\"Vui lòng xác nhận mật khẩu mới\",\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t({ getFieldValue }) => ({\n\t\t\t\t\t\t\t\t\t\t\tvalidator(rule, value) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t!value ||\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetFieldValue(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"newPassword\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t) === value\n\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn Promise.reject(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Mật khẩu không trùng khớp, hãy thử lại !!!\"\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Input.Password />\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"profile_submit\"\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\t\tform=\"changePassword\"\n\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCẬP NHẬT\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`profile_control ${\n\t\t\t\t\t\t\tchangePass ? \"profile_toggle-active\" : \"\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={handleChangePass}\n\t\t\t\t\t\t\tclassName=\"profile_toggle\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{changePass\n\t\t\t\t\t\t\t\t? \"CHỈNH SỬA THÔNG TIN\"\n\t\t\t\t\t\t\t\t: \"THAY ĐỔI MẬT KHẨU\"}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\nexport default memo(Profile);\n"],"sourceRoot":""}
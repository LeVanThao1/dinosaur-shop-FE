(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[27,41],{139:function(e,t,a){"use strict";a.r(t);var s=a(178),r=a(6),c=a(29),n=a.n(c),o=a(58),i=a(61),l=a(1),u=(a(22),a(0)),b=a(515),j=a.n(b),p=a(516),d=a(25),h=a(28),O=a(119),m=(a(388),a(10)),g=a(73),f=a(179),x={email:"",password:"",error:"",success:""};t.default=function(e){var t=Object(d.g)(),a=(Object(d.h)().state||{from:{pathname:"/"}}).from;Object(m.c)((function(e){return e.auth})).isLogged&&("/"!==a.pathname?t.push(a):t.push("/"));var c=Object(u.useState)(x),b=Object(i.a)(c,2),v=b[0],w=b[1],k=v.email,y=v.password,L=v.err,N=(v.success,Object(m.b)()),I=function(){var e=Object(o.a)(n.a.mark((function e(s){var r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s.preventDefault(),e.next=4,f.a.login(k,y);case 4:r=e.sent,Object(O.b)("Notify",r),localStorage.setItem("firstLogin",!0),c=Object(g.d)(),N(c),t.push(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0.response.data.msg&&Object(O.a)("Error",e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t,a=e.target,c=a.name,n=a.value;w(Object(r.a)(Object(r.a)({},v),{},(t={},Object(s.a)(t,c,n),Object(s.a)(t,"err",""),Object(s.a)(t,"success",""),t)))},S=function(){var e=Object(o.a)(n.a.mark((function e(s){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.loginGG(s.tokenId);case 3:c=e.sent,w(Object(r.a)(Object(r.a)({},v),{},{error:"",success:c.data.msg})),localStorage.setItem("firstLogin",!0),N(Object(g.d)()),Object(O.b)("Notify",c.data.msg),t.push(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),e.t0.response.data.msg&&Object(O.a)("Error",e.t0.response.data.msg);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(o.a)(n.a.mark((function e(s){var c,o,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=s.accessToken,o=s.userID,c&&o){e.next=6;break}w(Object(r.a)(Object(r.a)({},v),{},{error:"Login fail with facebook"})),e.next=14;break;case 6:return e.next=8,f.a.loginFB(c,o);case 8:i=e.sent,w(Object(r.a)(Object(r.a)({},v),{},{error:"",success:i.data.msg})),localStorage.setItem("firstLogin",!0),Object(O.b)("Notify",i.data.msg),N(Object(g.d)()),t.push(a);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),e.t0.response.data.msg&&Object(O.a)("Error",e.t0.response.data.msg);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"login_page",children:[Object(l.jsx)("h2",{children:"Login"}),L&&Object(O.c)(L),Object(l.jsxs)("form",{onSubmit:I,children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(l.jsx)("input",{type:"text",placeholder:"Enter email address",id:"email",value:k,name:"email",onChange:E})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{type:"password",placeholder:"Enter password",id:"password",value:y,name:"password",onChange:E})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("button",{type:"submit",children:"Login"}),Object(l.jsx)(h.b,{to:"/forgot_password",children:"Forgot your password?"})]})]}),Object(l.jsx)("div",{className:"hr",children:"Or Login With"}),Object(l.jsxs)("div",{className:"social",children:[Object(l.jsx)(p.GoogleLogin,{clientId:"495868402334-hv0mqs9mh0u9ip19krurch7thn6a5n15.apps.googleusercontent.com",buttonText:"Login with google",onSuccess:S,cookiePolicy:"single_host_origin"}),Object(l.jsx)(j.a,{appId:"197972598576220",autoLoad:!1,fields:"name,email,picture",callback:F})]}),Object(l.jsxs)("p",{children:["New Customer? ",Object(l.jsx)(h.b,{to:"/register",children:"Register"})]})]})}},388:function(e,t,a){}}]);
//# sourceMappingURL=27.f9214253.chunk.js.map
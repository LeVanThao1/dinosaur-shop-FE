{"version":3,"sources":["pages/Register/index.js","utils/validation/index.js"],"names":["initialState","name","email","password","cf_password","err","success","Register","props","history","useHistory","useSelector","state","auth","isLogged","push","useState","user","setUser","handleSubmit","useDispatch","e","a","preventDefault","isEmpty","isEmail","isLength","isMatch","userApi","register","res","notifiSuccess","data","msg","response","notifiError","handleChangeInput","target","value","className","showErrMsg","onSubmit","htmlFor","type","placeholder","id","onChange","to","test","length"],"mappings":"2OAeMA,G,OAAe,CACpBC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,YAAa,GACbC,IAAK,GACLC,QAAS,KA2HKC,UAxHf,SAAkBC,GACjB,IAAMC,EAAUC,cAEHC,aAAY,SAACC,GAAD,OAAWA,EAAMC,QAEjCC,UACRL,EAAQM,KAAK,KANU,MAQAC,mBAAShB,GART,mBAQjBiB,EARiB,KAQXC,EARW,KAUhBjB,EAAqDgB,EAArDhB,KAAMC,EAA+Ce,EAA/Cf,MAAOC,EAAwCc,EAAxCd,SAAUC,EAA8Ba,EAA9Bb,YAAaC,EAAiBY,EAAjBZ,IAItCc,GAJuDF,EAAZX,QAEhCc,cAEC,uCAAG,WAAOC,GAAP,eAAAC,EAAA,yDACpBD,EAAEE,kBAEEC,YAAQvB,KAASuB,YAAQrB,GAHT,yCAIZe,EAAQ,2BACXD,GADU,IAEbZ,IAAK,6BACLC,QAAS,OAPS,UAWfmB,YAAQvB,GAXO,yCAYZgB,EAAQ,2BAAKD,GAAN,IAAYZ,IAAK,kBAAmBC,QAAS,OAZxC,WAchBoB,YAASvB,GAdO,yCAeZe,EAAQ,2BACXD,GADU,IAEbZ,IAAK,0CACLC,QAAS,OAlBS,UAqBfqB,YAAQxB,EAAUC,GArBH,yCAsBZc,EAAQ,2BACXD,GADU,IAEbZ,IAAK,0BACLC,QAAS,OAzBS,iCA4BDsB,IAAQC,SAAS5B,EAAMC,EAAOC,GA5B7B,QA4Bb2B,EA5Ba,OA6BnBC,YAAc,SAAUD,EAAIE,KAAKC,KACjCf,EAAQ,2BAAKD,GAAN,IAAYZ,IAAK,GAAIC,QAASwB,EAAIE,KAAKC,OA9B3B,kDAgCnB,KAAIC,SAASF,KAAKC,KACjBE,YAAY,QAAS,KAAID,SAASF,KAAKC,KAjCrB,0DAAH,uDAqCZG,EAAoB,SAACf,GAAO,IAAD,IACRA,EAAEgB,OAAlBpC,EADwB,EACxBA,KAAMqC,EADkB,EAClBA,MACdpB,EAAQ,2BAAKD,GAAN,uBAAahB,EAAOqC,GAApB,oBAAgC,IAAhC,wBAA6C,IAA7C,MAGR,OACC,sBAAKC,UAAU,aAAf,UACC,0CACClC,GAAOmC,YAAWnC,GACnB,uBAAMoC,SAAUtB,EAAhB,UACC,gCACC,uBAAOuB,QAAQ,OAAf,kBACA,uBACCC,KAAK,OACLC,YAAY,kBACZC,GAAG,OACHP,MAAOrC,EACPA,KAAK,OACL6C,SAAUV,OAIZ,gCACC,uBAAOM,QAAQ,QAAf,2BACA,uBACCC,KAAK,OACLC,YAAY,sBACZC,GAAG,QACHP,MAAOpC,EACPD,KAAK,QACL6C,SAAUV,OAIZ,gCACC,uBAAOM,QAAQ,WAAf,sBACA,uBACCC,KAAK,WACLC,YAAY,iBACZC,GAAG,WACHP,MAAOnC,EACPF,KAAK,WACL6C,SAAUV,OAGZ,gCACC,uBAAOM,QAAQ,cAAf,8BACA,uBACCC,KAAK,WACLC,YAAY,mBACZC,GAAG,cACHP,MAAOlC,EACPH,KAAK,cACL6C,SAAUV,OAIZ,qBAAKG,UAAU,MAAf,SACC,wBAAQI,KAAK,SAAb,2BAIF,qDACqB,cAAC,IAAD,CAAMI,GAAG,SAAT,2B,uDC1IxB,wIAAO,IAAMvB,EAAU,SAACc,GACvB,OAAKA,GAIOb,EAAU,SAACvB,GAGvB,MADW,4JACD8C,KAAK9C,IAGHwB,EAAW,SAACvB,GACxB,OAAIA,EAAS8C,OAAS,GAIVtB,EAAU,SAACxB,EAAUC,GACjC,OAAID,IAAaC","file":"static/js/24.e6488807.chunk.js","sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport userApi from \"../../api/userApi\";\nimport {\n\tnotifiSuccess,\n\tnotifiError,\n\tshowErrMsg,\n} from \"../../utils/notification\";\nimport { isEmail, isEmpty, isLength, isMatch } from \"../../utils/validation\";\nimport \"./style.css\";\n\nRegister.propTypes = {};\n\nconst initialState = {\n\tname: \"\",\n\temail: \"\",\n\tpassword: \"\",\n\tcf_password: \"\",\n\terr: \"\",\n\tsuccess: \"\",\n};\n\nfunction Register(props) {\n\tconst history = useHistory();\n\n\tconst auth = useSelector((state) => state.auth);\n\n\tif (auth.isLogged) {\n\t\thistory.push(\"/\");\n\t}\n\tconst [user, setUser] = useState(initialState);\n\n\tconst { name, email, password, cf_password, err, success } = user;\n\n\tconst dispatch = useDispatch();\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\n\t\tif (isEmpty(name) || isEmpty(password)) {\n\t\t\treturn setUser({\n\t\t\t\t...user,\n\t\t\t\terr: \"Please fill in all fields.\",\n\t\t\t\tsuccess: \"\",\n\t\t\t});\n\t\t}\n\n\t\tif (!isEmail(email))\n\t\t\treturn setUser({ ...user, err: \"Invalid emails.\", success: \"\" });\n\n\t\tif (isLength(password))\n\t\t\treturn setUser({\n\t\t\t\t...user,\n\t\t\t\terr: \"Password must be at least 8 characters.\",\n\t\t\t\tsuccess: \"\",\n\t\t\t});\n\n\t\tif (!isMatch(password, cf_password))\n\t\t\treturn setUser({\n\t\t\t\t...user,\n\t\t\t\terr: \"Password did not match.\",\n\t\t\t\tsuccess: \"\",\n\t\t\t});\n\t\ttry {\n\t\t\tconst res = await userApi.register(name, email, password);\n\t\t\tnotifiSuccess(\"Notify\", res.data.msg);\n\t\t\tsetUser({ ...user, err: \"\", success: res.data.msg });\n\t\t} catch (err) {\n\t\t\terr.response.data.msg &&\n\t\t\t\tnotifiError(\"Error\", err.response.data.msg);\n\t\t}\n\t};\n\n\tconst handleChangeInput = (e) => {\n\t\tconst { name, value } = e.target;\n\t\tsetUser({ ...user, [name]: value, err: \"\", success: \"\" });\n\t};\n\n\treturn (\n\t\t<div className=\"login_page\">\n\t\t\t<h2>Register</h2>\n\t\t\t{err && showErrMsg(err)}\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<div>\n\t\t\t\t\t<label htmlFor=\"name\">Name</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Enter your name\"\n\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<label htmlFor=\"email\">Email Address</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Enter email address\"\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<label htmlFor=\"password\">Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"Enter password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label htmlFor=\"cf_password\">Confirm Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"Confirm password\"\n\t\t\t\t\t\tid=\"cf_password\"\n\t\t\t\t\t\tvalue={cf_password}\n\t\t\t\t\t\tname=\"cf_password\"\n\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<button type=\"submit\">Register</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\n\t\t\t<p>\n\t\t\t\tAlready an account? <Link to=\"/login\">Login</Link>\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n\nexport default Register;\n","export const isEmpty = (value) => {\n\tif (!value) return true;\n\treturn false;\n};\n\nexport const isEmail = (email) => {\n\t// eslint-disable-next-line\n\tconst re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\treturn re.test(email);\n};\n\nexport const isLength = (password) => {\n\tif (password.length < 8) return true;\n\treturn false;\n};\n\nexport const isMatch = (password, cf_password) => {\n\tif (password === cf_password) return true;\n\treturn false;\n};\n"],"sourceRoot":""}
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[20,65],{131:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(61),r=n(1),l=n(489),i=n(623),o=n(410),s=n(444),u=n(0),d=n(10),h=n(25),b=n(470),p=n.n(b),f=n(120),m=n(73),v=n(100),O=n(172),j=n(119),y=(n(385),l.a.Option);t.default=function(e){var t=e.form,n=Object(d.c)((function(e){return e.orders})).creatingOrder,b=Object(d.c)((function(e){return e.auth})).user,g=Object(d.c)((function(e){return e.token})),x=Object(h.g)(),C=Object(d.b)();Object(u.useEffect)((function(){t.setFieldsValue({name:b.name,phone:b.phone,address:b.address,typePayment:0})}),[]);var k={required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},N=Object(u.useState)(""),P=Object(c.a)(N,2),w=P[0],S=P[1],E=Object(u.useState)(""),V=Object(c.a)(E,2),F=V[0],I=V[1],T=Object(u.useState)(""),H=Object(c.a)(T,2),q=(H[0],H[1]),D=Object(u.useState)("warning"),_=Object(c.a)(D,2),G=(_[0],_[1]);return Object(r.jsxs)("div",{className:"info_form",children:[Object(r.jsx)("div",{className:"header",children:"TH\xd4NG TIN GIAO H\xc0NG"}),Object(r.jsxs)(i.a,Object(a.a)(Object(a.a)({form:t},{labelCol:{span:4},wrapperCol:{span:20}}),{},{name:"form",validateMessages:k,onChange:function(){console.log(t.getFieldValue("name"))},onFinish:function(){console.log("submit");var e=t.getFieldsValue(),c=e.name,r=e.address,l=e.phone,i=e.note,o=e.typePayment,s=e.ward,u=e.provinces,d=e.district,h=Object(a.a)({recipientName:c,recipientPhone:l,note:i,typePayment:o,address:"".concat(r,", ").concat(s[0],", ").concat(d[0],", ").concat(u[0]),shipMoney:32e3},n);console.log(h),0===o?Object(f.a)("api/orders","POST",g,h).then((function(e){var t;Object(j.b)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.msg),C(Object(v.b)({cart:[],type:!0})),C(Object(m.a)([])),x.push("/orders")})).catch((function(e){var t,n;return Object(j.a)((null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.msg)||"Have error")})):Object(f.a)("api/create_payment_url","POST",g,h).then((function(e){C(Object(O.d)({})),window.location.href=e.data.url})).catch((function(e){var t,n;return Object(j.a)((null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.msg)||"Have error")}))},scrollToFirstError:!0,children:[Object(r.jsx)(i.a.Item,{onChange:function(){G(k?"success":"warning")},label:"H\u1ecd t\xean",name:"name",hasFeedback:!0,rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp h\u1ecd t\xean"}],children:Object(r.jsx)(o.a,{className:"form-control",type:"text",placeholder:"Nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 h\u1ecd v\xe0 t\xean",name:"name",initialValue:b.name,defaultValue:b.name,value:b.name,id:"success"})}),Object(r.jsx)(i.a.Item,{label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"phone",hasFeedback:!0,rules:[{required:!0,types:!0}],children:Object(r.jsx)(o.a,{className:"form-control",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ng\u01b0\u1eddi nh\u1eadn",name:"phone_number",initialValue:b.phone,defaultValue:b.phone,value:b.phone,id:"phone_number"})}),Object(r.jsx)(i.a.Item,{label:"T\u1ec9nh/ Th\xe0nh ph\u1ed1",name:"provinces",hasFeedback:!0,rules:[{required:!0,message:"T\u1ec9nh th\xe0nh ph\u1ed1 b\u1eaft bu\u1ed9c"}],children:Object(r.jsx)(l.a,{showSearch:!0,allowClear:!0,id:"city",name:"city",onChange:function(e){S(e)},placeholder:"Vui l\xf2ng ch\u1ecdn T\u1ec9nh/ Th\xe0nh ph\u1ed1",children:p.a.getProvinces().map((function(e,t){return Object(r.jsx)(y,{value:[e.name,e.code],selected:e.code===w,children:e.name},t)}))})}),Object(r.jsx)(i.a.Item,{label:"Qu\u1eadn/ Huy\u1ec7n",hasFeedback:!0,name:"district",rules:[{required:!0}],children:Object(r.jsx)(l.a,{showSearch:!0,allowClear:!0,id:"district",name:"district",onChange:function(e){I(e)},disabled:!w,placeholder:"Vui l\xf2ng ch\u1ecdn Qu\u1eadn/ Huy\u1ec7n",children:w&&p.a.getDistrictsByProvinceCode(w[1]).map((function(e,t){return Object(r.jsx)(y,{value:[e.name,e.code],children:e.name},t)}))})}),Object(r.jsx)(i.a.Item,{label:"Ph\u01b0\u1eddng/ X\xe3",hasFeedback:!0,name:"ward",rules:[{required:!0}],children:Object(r.jsx)(l.a,{showSearch:!0,allowClear:!0,id:"ward",name:"ward",disabled:!F,onChange:function(e){q(e)},placeholder:"Vui l\xf2ng ch\u1ecdn X\xe3/ Ph\u01b0\u1eddng",children:F&&p.a.getWardsByDistrictCode(F[1]).map((function(e,t){return Object(r.jsx)(y,{value:[e.name,e.code],children:e.name},t)}))})}),Object(r.jsx)(i.a.Item,{label:"\u0110\u1ecba ch\u1ec9 c\u1ee5 th\u1ec3",hasFeedback:!0,name:"address",rules:[{required:!0,message:"\u0110\u1ecba ch\u1ec9 b\u1eaft bu\u1ed9c"}],children:Object(r.jsx)(o.a,{className:"form-control",type:"text",placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9",name:"address",initialValue:b.address,defaultValue:b.address,value:b.address,id:"success"})}),Object(r.jsx)(i.a.Item,{label:"Ghi ch\xfa",hasFeedback:!0,name:"note",rules:[{required:!1}],children:Object(r.jsx)(o.a.TextArea,{placeholder:"Th\xeam ghi ch\xfa",name:"note",maxLength:200,showCount:!0,autoSize:!0,value:""})}),Object(r.jsx)(s.a,{checked:"true",style:{padding:"20px"}}),Object(r.jsx)("label",{style:{fontSize:"1.2rem"},children:"C\u1eadp nh\u1eadt c\xe1c th\xf4ng tin m\u1edbi nh\u1ea5t v\u1ec1 ch\u01b0\u01a1ng tr\xecnh t\u1eeb Ananas"}),Object(r.jsx)("div",{className:"header",children:"PH\u01af\u01a0NG TH\u1ee8C GIAO H\xc0NG"}),Object(r.jsxs)("div",{className:"form-group check_info deliveryS",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(s.a,{checked:"true",style:{padding:"20px"}}),Object(r.jsx)("label",{style:{fontSize:"1.2rem"},children:"T\u1ed1c \u0111\u1ed9 ti\xeau chu\u1ea9n (t\u1eeb 2 - 5 ng\xe0y l\xe0m vi\u1ec7c)"})]}),Object(r.jsxs)("div",{className:"delivery_price",children:[32e3," VND"]})]}),Object(r.jsx)("div",{className:"header",children:"PH\u01af\u01a0NG TH\u1ee8C THANH TO\xc1N"}),Object(r.jsx)(i.a.Item,{label:"Ph\u01b0\u01a1ng th\u1ee9c",hasFeedback:!0,name:"typePayment",rules:[{required:!0,message:"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n b\u1eaft bu\u1ed9c"}],children:Object(r.jsxs)(l.a,{allowClear:!0,id:"paymethod",name:"paymethod",defaultValue:0,style:{color:"#f15e2c"},children:[Object(r.jsx)(y,{className:"delivery_label",value:0,children:"Thanh to\xe1n tr\u1ef1c ti\u1ebfp khi giao h\xe0ng"}),Object(r.jsx)(y,{className:"delivery_label",value:1,children:"Thanh to\xe1n b\u1eb1ng th\u1ebb tr\u1ef1c tuy\u1ebfn"})]})})]}))]})}},385:function(e,t,n){},432:function(e,t,n){"use strict";var a=n(15),c=n(20),r=n(7),l=n(8),i=n(9),o=n(12),s=n(55),u=n(31),d=n(0),h=n.n(d),b=n(4),p=n.n(b);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(u.a)(e);if(t){var c=Object(u.a)(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}var O=function(e){Object(o.a)(n,e);var t=v(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props,n=t.disabled,c=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),c&&c({target:m(m({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var c="checked"in e?e.checked:e.defaultChecked;return a.state={checked:c},a}return Object(i.a)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,l=t.className,i=t.style,o=t.name,s=t.id,u=t.type,d=t.disabled,b=t.readOnly,f=t.tabIndex,m=t.onClick,v=t.onFocus,O=t.onBlur,j=t.autoFocus,y=t.value,g=t.required,x=Object(c.a)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","autoFocus","value","required"]),C=Object.keys(x).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=x[t]),e}),{}),k=this.state.checked,N=p()(n,l,(e={},Object(r.a)(e,"".concat(n,"-checked"),k),Object(r.a)(e,"".concat(n,"-disabled"),d),e));return h.a.createElement("span",{className:N,style:i},h.a.createElement("input",Object(a.a)({name:o,id:s,type:u,required:g,readOnly:b,disabled:d,tabIndex:f,className:"".concat(n,"-input"),checked:!!k,onClick:m,onFocus:v,onBlur:O,onChange:this.handleChange,autoFocus:j,ref:this.saveInput,value:y},C)),h.a.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?m(m({},t),{},{checked:e.checked}):null}}]),n}(d.Component);O.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){}},t.a=O},444:function(e,t,n){"use strict";var a=n(2),c=n.n(a),r=n(3),l=n.n(r),i=n(0),o=n(4),s=n.n(o),u=n(432),d=n(121),h=n.n(d),b=n(19),p=n.n(b),f=n(44),m=n(71),v=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},O=i.createContext(null),j=function(e){var t=e.defaultValue,n=e.children,a=e.options,r=void 0===a?[]:a,o=e.prefixCls,u=e.className,d=e.style,b=e.onChange,j=v(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),y=i.useContext(m.b),g=y.getPrefixCls,x=y.direction,C=i.useState(j.value||t||[]),k=p()(C,2),P=k[0],w=k[1],S=i.useState([]),E=p()(S,2),V=E[0],F=E[1];i.useEffect((function(){"value"in j&&w(j.value||[])}),[j.value]);var I=function(){return r.map((function(e){return"string"===typeof e?{label:e,value:e}:e}))},T=g("checkbox",o),H="".concat(T,"-group"),q=Object(f.a)(j,["value","disabled"]);r&&r.length>0&&(n=I().map((function(e){return i.createElement(N,{prefixCls:T,key:e.value.toString(),disabled:"disabled"in e?e.disabled:j.disabled,value:e.value,checked:-1!==P.indexOf(e.value),onChange:e.onChange,className:"".concat(H,"-item"),style:e.style},e.label)})));var D={toggleOption:function(e){var t=P.indexOf(e.value),n=h()(P);if(-1===t?n.push(e.value):n.splice(t,1),"value"in j||w(n),b){var a=I();b(n.filter((function(e){return-1!==V.indexOf(e)})).sort((function(e,t){return a.findIndex((function(t){return t.value===e}))-a.findIndex((function(e){return e.value===t}))})))}},value:P,disabled:j.disabled,name:j.name,registerValue:function(e){F((function(t){return[].concat(h()(t),[e])}))},cancelValue:function(e){F((function(t){return t.filter((function(t){return t!==e}))}))}},_=s()(H,c()({},"".concat(H,"-rtl"),"rtl"===x),u);return i.createElement("div",l()({className:_,style:d},q),i.createElement(O.Provider,{value:D},n))},y=i.memo(j),g=n(65),x=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},C=function(e,t){var n,a=e.prefixCls,r=e.className,o=e.children,d=e.indeterminate,h=void 0!==d&&d,b=e.style,p=e.onMouseEnter,f=e.onMouseLeave,v=x(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave"]),j=i.useContext(m.b),y=j.getPrefixCls,C=j.direction,k=i.useContext(O),N=i.useRef(v.value);i.useEffect((function(){null===k||void 0===k||k.registerValue(v.value),Object(g.a)("checked"in v||!!k||!("value"in v),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),i.useEffect((function(){return v.value!==N.current&&(null===k||void 0===k||k.cancelValue(N.current),null===k||void 0===k||k.registerValue(v.value)),function(){return null===k||void 0===k?void 0:k.cancelValue(v.value)}}),[v.value]);var P=y("checkbox",a),w=l()({},v);k&&(w.onChange=function(){v.onChange&&v.onChange.apply(v,arguments),k.toggleOption&&k.toggleOption({label:o,value:v.value})},w.name=k.name,w.checked=-1!==k.value.indexOf(v.value),w.disabled=v.disabled||k.disabled);var S=s()((n={},c()(n,"".concat(P,"-wrapper"),!0),c()(n,"".concat(P,"-rtl"),"rtl"===C),c()(n,"".concat(P,"-wrapper-checked"),w.checked),c()(n,"".concat(P,"-wrapper-disabled"),w.disabled),n),r),E=s()(c()({},"".concat(P,"-indeterminate"),h));return i.createElement("label",{className:S,style:b,onMouseEnter:p,onMouseLeave:f},i.createElement(u.a,l()({},w,{prefixCls:P,className:E,ref:t})),void 0!==o&&i.createElement("span",null,o))},k=i.forwardRef(C);k.displayName="Checkbox";var N=k,P=N;P.Group=y,P.__ANT_CHECKBOX=!0;t.a=P}}]);
//# sourceMappingURL=20.4eeee16a.chunk.js.map